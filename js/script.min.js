var contactsBtn=document.querySelector(".contacts__btn"),modalWriteUs=document.querySelector(".modal--write-us"),mapLink=document.querySelector(".contacts__map-link"),modalMap=document.querySelector(".modal--map"),searchFormInput=document.querySelector(".search-form__input"),searchFormBtn=document.querySelector(".search-form__btn"),dropdownMenu=document.querySelector(".page-header__catalog-dropdown"),menuItems=dropdownMenu.querySelectorAll(".catalog-menu__link"),catalogItems=document.querySelectorAll(".catalog__item"),storageSupported=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){storageSupported=!1}if(contactsBtn&&modalWriteUs){var modalWriteUsClose=modalWriteUs.querySelector(".modal__close"),writeUsForm=modalWriteUs.querySelector(".write-us__form"),writeUsName=writeUsForm.querySelector("[name=name]"),writeUsEmail=writeUsForm.querySelector("[name=email]"),writeUsMessage=writeUsForm.querySelector("[name=message]");contactsBtn.addEventListener("click",function(e){e.preventDefault(),modalWriteUs.classList.add("modal--opened"),storageName?(writeUsName.value=storageName,storageEmail?(writeUsEmail.value=storageEmail,writeUsMessage.focus()):writeUsEmail.focus()):writeUsName.focus()}),modalWriteUsClose.addEventListener("click",function(e){e.preventDefault(),modalWriteUs.classList.remove("modal--opened"),modalWriteUs.classList.remove("modal--invalid")}),writeUsForm.addEventListener("submit",function(e){writeUsName.value&&writeUsEmail.value&&writeUsMessage.value?storageSupported&&(localStorage.setItem("name",writeUsName.value),localStorage.setItem("email",writeUsEmail.value)):(e.preventDefault(),modalWriteUs.classList.remove("modal--invalid"),modalWriteUs.offsetWidth=modalWriteUs.offsetWidth,modalWriteUs.classList.add("modal--invalid"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalWriteUs.classList.contains("modal--opened")&&(modalWriteUs.classList.remove("modal--opened"),modalWriteUs.classList.remove("modal--invalid"))})}if(mapLink&&modalMap){var modalMapClose=modalMap.querySelector(".modal__close");mapLink.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal--opened")}),modalMapClose.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal--opened")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalMap.classList.contains("modal--opened")&&modalMap.classList.remove("modal--opened")})}searchFormBtn.addEventListener("focus",function(e){searchFormInput.classList.add("search-form__input--focus")}),searchFormBtn.addEventListener("blur",function(e){searchFormInput.classList.remove("search-form__input--focus")}),[].forEach.call(menuItems,function(e){e.addEventListener("focus",function(e){dropdownMenu.classList.add("dropdown--hover")}),e.addEventListener("blur",function(e){dropdownMenu.classList.remove("dropdown--hover")})}),[].forEach.call(catalogItems,function(e){var t=e.querySelector(".catalog__btn"),a=e.querySelector(".catalog__compare-btn");t.addEventListener("focus",function(t){e.classList.add("catalog__item--hover")}),a.addEventListener("focus",function(t){e.classList.add("catalog__item--hover")}),t.addEventListener("blur",function(t){e.classList.remove("catalog__item--hover")}),a.addEventListener("blur",function(t){e.classList.remove("catalog__item--hover")})});
